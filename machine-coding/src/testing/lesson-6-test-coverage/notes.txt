Here's the formatted and **interview-friendly** version of your notes on **Test Coverage in Vitest**:

---

## âœ… What is Test Coverage?

**Test coverage** measures how much of your code is executed when running your test suite.
It helps identify:

* ğŸŸ¢ Which lines of code are tested
* ğŸ”´ Which lines are untested (potential bugs)
* ğŸ“Š Overall test quality

---

## ğŸ“˜ Types of Coverage Metrics

* **Statements** â€“ Are all statements executed?
* **Branches** â€“ Are all `if/else` paths covered?
* **Functions** â€“ Are all functions invoked?
* **Lines** â€“ Are all lines of code run?

---

## ğŸ§ª How to Check Test Coverage in Vitest

### 1ï¸âƒ£ Install Required Dependency

#### â¤ For `v8` (recommended for speed):

```bash
npm install -D @vitest/coverage-v8
```

#### â¤ For `istanbul` (for advanced features):

```bash
npm install -D @vitest/coverage-istanbul
```

---

### 2ï¸âƒ£ Configure `vitest.config.ts` (or `vite.config.ts`)

```ts
import { defineConfig } from 'vitest/config';

export default defineConfig({
  test: {
    coverage: {
      enabled: true, // Enable coverage
      provider: 'v8', // or 'istanbul'
      reporter: ['text', 'html', 'json'], // Output formats
      // include: ['src/**/*.ts'],
      // exclude: ['node_modules/', 'dist/'],
    },
  },
});
```

ğŸ”¸ `reporter`: Defines coverage output

* `text`: Summary in terminal
* `html`: Interactive HTML report
* `json`: Structured coverage data

---

### 3ï¸âƒ£ Run Tests with Coverage

```bash
npx vitest run --coverage
```

âœ”ï¸ Shows a terminal summary
ğŸŒ For HTML report: Open `coverage/index.html` in your browser

---

## ğŸ–¥ï¸ Optional: View Coverage in Vitest UI

```bash
npx vitest --ui
```

ğŸ“Œ Works only if:

* `coverage.enabled = true` in config
* `html` reporter is set

---

## ğŸ¯ Interview Keywords

> Say these to show practical knowledge:

* âœ… "Test coverage improves confidence in code"
* âœ… "Vitest uses `c8` under the hood for coverage"
* âœ… "Helps detect dead code and untested edge cases"
* âœ… "I aim for high branch and line coverage but also care about meaningful tests"
 
---------------------------------------------------------------------------

## âœ… View Specific Files in Coverage

Use `include` in `vitest.config.ts`:

```ts
coverage: {
  enabled: true,
  include: ['src/pages/**/*'],
}
```

Shows coverage **only for matching files**.

---

## ğŸš« Omit Files from Coverage

Use `exclude`:

```ts
coverage: {
  exclude: ['**/*.test.*', 'src/pages/utils/**'],
}
```

These files **wonâ€™t appear** in the report.

---

## âš™ï¸ Test Files Still Run

Even if excluded:

* âœ… Test files still **execute**
* âŒ But are **not counted** in coverage

--- 
---------------------------------------------------------------------
Hereâ€™s a **short interview-ready note** on **setting coverage thresholds in Vitest**:

---

## âœ… Coverage Thresholds in Vitest

**Purpose**: Enforce minimum test coverage to maintain code quality.

### ğŸ“Œ How to set:

In `vitest.config.ts`:

```ts
coverage: {
  enabled: true,
  provider: 'v8',
  reporter: ['text', 'html'],
  threshold: {
    statements: 80,
    branches: 75,
    functions: 80,
    lines: 80,
  },
}
```

### ğŸ” Metrics:

* **statements**: All executable code
* **branches**: All conditionals (`if`, `switch`)
* **functions**: All defined functions
* **lines**: All lines of code

### ğŸš¨ If thresholds not met:

Test run fails with a message like:

> Coverage for lines (78%) does not meet global threshold (80%)

---

âœ… Use this to enforce test quality in CI/CD.
-----------------------------------
**ğŸ” View HTML Coverage Report in Vitest (Short Note):**

1. In `vitest.config.ts`, set:

```ts
reporter: ['html']
```

2. Run:

```bash
npx vitest run --coverage
```
3. Open:
 go to the 'coverage' folder which is auto created and open the 'html' file there in the brows 

